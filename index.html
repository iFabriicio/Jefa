<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>XatSpace ‚Äì Jefa</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}

body{
  margin:0;
  height:100vh;
  font-family:'Poppins',sans-serif;
  background:radial-gradient(circle at top,#875151,#875151,#875151);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

/* CONTENEDOR PRINCIPAL (YA EXIST√çA) */
.wrapper{
  position:relative;
  display:flex;
  align-items:center;
}

/* BOTONES PEGADOS A LA CARD */
.menu-left{
  position:absolute;
  left:-100px;       /* pegado a la card */
  top:36%;
  transform:translateY(-50%);
  display:flex;
  flex-direction:column;
  gap:12px;
  z-index:10;
}

.menu-left a{
  position:relative;
  width:110px;
  padding:10px 0;
  text-align:center;

  background:rgba(248, 187, 191, 0.712);
  backdrop-filter:blur(14px);

  border-radius:10px;
  border:1px solid rgba(252, 198, 198, 0.35); /* üëà BORDE */
  
  font-size:13px;
  color:#fcdcdf;
  text-decoration:none;

  box-shadow:
    inset 0 0 1px rgba(253, 206, 206, 0.6),  /* brillo glass */
    0 4px 10px rgba(128, 40, 40, 0.25);

  transition:transform .25s ease,
             box-shadow .25s ease,
             border-color .25s ease;

  font-family:'Poppins',sans-serif;
  overflow:hidden;
}


.menu-left a::before{
  content:"";
  position:absolute;
  inset:0;
  background:linear-gradient(
    135deg,
    rgb(252, 180, 213),
    rgb(250, 171, 184),
    rgb(250, 150, 180)
  );
  opacity:0;
  transition:opacity .15s ease;
}



.menu-left a:hover{
  transform:translateX(-10px);
  box-shadow:0 2px 2px rgba(248, 114, 148, 0.795);
}

.menu-left a:hover::after{
  opacity:0;
}


.menu-left a:active::before{
  opacity:0;
}


/* TARJETA */
.card{
  position:relative;
  width:420px;
  height:560px;
  border-radius:30px;
  background:rgba(192, 112, 112, 0.959);
  backdrop-filter:blur(20px);
  box-shadow:0 15px 10px rgba(145, 44, 49, 0.637);
  z-index:2;
  overflow:hidden; /* IMPORTANTE */
}

/* BORDE INTERNO */
.card::before{
  content:"";
  position:absolute;
  inset:14px;                 /* separaci√≥n del borde */
  border-radius:22px;
  border:1.5px solid rgba(255,255,255,.75);
  pointer-events:none;
}





.avatar{
  position:absolute;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  width:160px;
  height:160px;
  border-radius:50%;
  overflow:hidden;
  border:4px solid rgba(255,255,255,.8);
}


.avatar img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.name{
  position:absolute;
  top:230px;
  left:50%;
  transform:translateX(-50%);
  font-family:'Playfair Display',serif;
  font-size:28px;
  color:#f7d4d4;
}


.subtitle{
  position:absolute;
  top:280px;
  left:50%;
  transform:translateX(-50%);
  font-size:13px;
  color:#f7d4d4;
}


.bio{
  position:absolute;
  top:315px;
  left:50%;
  transform:translateX(-50%);
  width:80%;
 white-space: pre-wrap; /* permite saltos y wrapping natural */

  padding:14px 16px;                 /* espacio interno del texto */
  font-size:15px;
  line-height:1.6;
  color:#fddce1;
   text-align:center;
  background:rgba(247, 168, 168, 0.596);  /* fondo suave */
  backdrop-filter:blur(10px);
  border-radius:16px;

  box-shadow:0 2px 4px rgba(68, 30, 30, 0.12);
}



/* FIRMA */
.firma{
  position:absolute;
  bottom:40px;
  left:50%;
  transform:translateX(-50%);
}


.firma img{
  max-width:280px;
}

/* FOOTER */
.footer{
  position:absolute;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  font-size:8px;
  color:#fdeef0aa;
}

/* OVERLAY */
.modal-overlay{
  position:fixed;
  inset:0;

  /* M√ÅS TRANSPARENTE */
  background: rgba(255, 180, 210, 0.08);

  /* BLUR M√ÅS SUAVE */
  backdrop-filter: blur(7px);

  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:.35s ease;
  z-index:999;
}


/* ACTIVO */
.modal-overlay.active{
  opacity:1;
  pointer-events:auto;
}

/* CONTENIDO */
.modal-content{
  position:relative;
  width:90%;
  max-width:650px;
  height:530px;
  border-radius:20px;
  overflow:visible;   /* ‚úÖ CLAVE */
  box-shadow:0 0 40px rgba(250, 130, 140, 0.466);
  animation:zoomIn .35s ease;
}


.modal-content::before{
  content:"";
  position:absolute;
  inset:-3px;
  border-radius:25px;
  border:3px solid rgba(255, 255, 255, 0.9);
  pointer-events:none;

  box-shadow:
    0 0 25px rgba(255, 170, 170, 0.9),
    0 0 60px rgba(255, 120, 127, 0.5);
}


/* IFRAME */
.modal-content iframe{
  width:100%;
  height:100%;
  border:none;
  border-radius:20px;
  overflow:hidden;
}


/* BOT√ìN CERRAR */
.modal-close{
  position:absolute;
  top:7px;
  right:10px;
  width:34px;
  height:34px;
  border-radius:50%;
  background:rgba(255,255,255,.75);
  backdrop-filter:blur(8px);
  color:#d84450;
  font-size:22px;
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:1000;
  box-shadow:0 6px 18px rgba(120,40,90,.45);
  transition:.25s ease;
}

.modal-close:hover{
  background:#ffd6e8;
  transform:scale(1.15);
}


@keyframes zoomIn{
  from{transform:scale(.85); opacity:0}
  to{transform:scale(1); opacity:1}
}

#heartsCanvas{
  position:fixed;
  inset:0;
  z-index:0;            /* detr√°s de todo */
  pointer-events:none;  /* no molesta clicks */
}

/* ===============================
   üéß PLAYER LATERAL SHULA
   =============================== */

.player-slide{
  position:absolute;
  top:670px;
  right:0;
  transform: translateX(260px); /* OCULTO */
  width:200px;
  height:100px;
  display:flex;
  align-items:center;
  transition: transform .6s cubic-bezier(.4,0,.2,1);
  z-index:10060;
}

.player-slide.active{
  transform: translateX(0); /* VISIBLE */
}



.player-tab{
  width:40px;
  height:120px;
  background: linear-gradient(180deg,#ff3b3b,#ce6a6a7a);
  border-radius:15px 0 0 15px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:22px;
  cursor:pointer;
  box-shadow:0 0 25px rgba(255,0,0,.6);
}

.player-glass{
  width:200px;
  height:40%;
  padding:4px;
  background: rgba(223, 129, 129, 0.575);
  backdrop-filter: blur(18px);

  border-radius:20px;                     /* ‚úî bordes iguales */
  border:1px solid rgba(255,255,255,.25);
  margin-left:-1px;                       /* ‚úî uni√≥n perfecta */

  box-shadow:
    inset 0 0 20px rgba(255,255,255,.15),
    0 0 40px rgba(194, 88, 88, 0.45);
}


.music-title{
  font-size:11px;
  letter-spacing:2px;
  color:#ffd6d6;
  text-transform:uppercase;
  margin-bottom:6px;
  text-align:center;
}

.animated-song{
  font-size:12px;
  margin-bottom:14px;
  background: linear-gradient(90deg,#fff,#ffb3b3,#fff);
  background-size:200% auto;
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation: songGlow 4s linear infinite;
}

@keyframes songGlow{
  to{ background-position:200% center; }
}

.player-controls{
  display:flex;
  justify-content:center;
  gap:16px;
}

.player-controls button{
  width:40px;
  height:40px;
  border-radius:50%;
  background: rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.3);
  cursor:pointer;
  backdrop-filter: blur(12px);
  transition:.3s;
}

.player-controls button:hover{
  transform: scale(1.15);
  box-shadow:0 0 25px rgba(228, 164, 164, 0.8);
}

.progress{
  margin-top:14px;
  width:100%;
  accent-color:#be8686;
}
.btn-player{
  position:relative;
}

/* CONTENEDOR DEL PLAYER */
.player-drop{
  position:fixed;               /* üî• SALE del men√∫ */
  left:calc(140% - 210px);       /* alineado con la card */
  top:42%;                      /* misma altura del men√∫ */
  margin-top:120px;             /* cae hacia abajo */
  width:260px;

  transform: translateY(-15px);
  opacity:0;
  pointer-events:none;

  transition:.4s ease;
  z-index:1000;
}



/* ACTIVO */
.player-drop.active{
  transform: translateY(0);
  opacity:1;
  pointer-events:auto;
}

/* üîß FIX: el wrapper del reproductor debe comportarse como un bot√≥n */
.menu-left .btn-player{
  width:110px;            /* igual que .menu-left a */
  display:block;
}

/* asegura que el <a> interno no altere el layout */
.menu-left .btn-player > a{
  width:100%;
  display:block;
}

img{
  pointer-events:none;
  user-select:none;
}


.home-icon{
  position:absolute;
  width:38px;
  height:38px;
  border-radius:50%;

  right:-6px;
  bottom:-6px;

  /* FONDO M√ÅS S√ìLIDO */
  background: linear-gradient(
    145deg,
    #ffd6e1,
    #f4a8b8
  );

  border:2px solid #fff;

  box-shadow:
    0 4px 12px rgba(150,50,60,.45),
    inset 0 0 6px rgba(255,255,255,.8);

  z-index:10;
  cursor:pointer;
  transition:.25s ease;
}

/* icono */
.home-icon::before{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:17px;
  color:#9c2f42;
}

.home-icon:hover{
  transform:scale(1.15);
}

/* contenedor del avatar */
.avatar-wrap{
  position:absolute;
  top:40px;
  left:50%;
  transform:translateX(-50%);
  width:160px;
  height:160px;
}

/* avatar original intacto */
.avatar{
  position:relative;
  width:100%;
  height:100%;
}

/* icono fuera del c√≠rculo */
.home-icon{
  position:absolute;
  width:20px;
  height:20px;
  border-radius:50%;

  top:150px;
  left: 20px;

  z-index:15;
  cursor:pointer;
  transition:.25s ease;

  display:flex;
  align-items:center;
  justify-content:center;
}

.home-icon img{
  width:35px;      /* tama√±o del icono */
  height:35px;
  pointer-events:none;
}

.home-icon:hover{
  transform:scale(1.15);
}


/* ===============================
   INTRO PRINCIPAL
================================ */

.intro{
  position:fixed;
  inset:0;
  z-index:99999;
  display:flex;
  align-items:center;
  justify-content:center;
  background: radial-gradient(
    circle at top,
    #875151,
    #974646,
    #b15656
  );
  overflow:hidden;
}



/* ===============================
   CORAZ√ìN ENTER ‚Äì ESTRUCTURA
================================ */

.heart-wrapper{
  transform: translateY(-10px);
}

.heart-enter{
  position:relative;
  width:130px;
  height:130px;
  cursor:pointer;

  transform:rotate(-45deg);
  animation:heartFloat 3s ease-in-out infinite;

  filter:
    drop-shadow(0 0 25px rgba(247, 142, 142, 0.8))
    drop-shadow(0 0 60px rgba(221, 130, 130, 0.6));

  transition:.35s ease;
}

/* ===============================
   FORMA DEL CORAZ√ìN (ATR√ÅS)
================================ */

.heart-enter::before,
.heart-enter::after{
  content:"";
  position:absolute;
  width:130px;
  height:130px;
  border-radius:50%;
  z-index:1; /* üëà base */

  background:linear-gradient(
    145deg,
    #ffd6d6,
    #f4a8a8,
    #d17070
  );
}

.heart-enter::before{
  top:-65px;
  left:0;
}

.heart-enter::after{
  left:65px;
  top:0;
}

/* ===============================
   GLASS CENTRAL (DETR√ÅS DEL TEXTO)
================================ */

.heart-glass{
  position:absolute;
  inset:0;
  border-radius:18px;
  z-index:2; /* üëà coraz√≥n */

  background:linear-gradient(
    145deg,
    rgba(255,255,255,.35),
    rgba(255,180,190,.85)
  );

  backdrop-filter:blur(14px);

  box-shadow:
    inset 0 0 28px rgba(255,255,255,.45),
    0 0 45px rgba(255,100,120,.75);
}

/* BORDE INTERNO */
.heart-glass::after{
  content:"";
  position:absolute;
  inset:18px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.85);
}

/* REFLEJO GLASS */
.heart-glass::before{
  content:"";
  position:absolute;
  inset:22px;
  border-radius:14px;
  background:linear-gradient(
    120deg,
    rgba(255,255,255,.65),
    transparent 60%
  );
  opacity:.35;
}

/* ===============================
   TEXTO INGRESAR (ADELANTE)
================================ */

.heart-text{
  position:absolute;
  inset:0;
  z-index:10; /* üëë SIEMPRE ARRIBA */

  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;

  transform:rotate(45deg);

  font-family:'Playfair Display',serif;
  font-size:17px;
  letter-spacing:4px;
  line-height:1;

  color:#fd849a;
  text-shadow:
    0 2px 3px rgba(255,255,255,.95),
    0 0 12px rgba(255,150,160,.9);

  pointer-events:none;
}

.heart-text small{
  font-size:13px;
  letter-spacing:6px;
  margin-top:4px;
}

/* ===============================
   MINI CORAZONES
================================ */

.mini-heart{
  position:absolute;
  width:14px;
  height:14px;
  z-index:3; /* debajo del texto */

  background:linear-gradient(145deg,#ffd6dc,#f4a8b8);
  transform:rotate(-45deg);
  opacity:.75;
  animation:floatMini 3s ease-in-out infinite;
}

.mini-heart::before,
.mini-heart::after{
  content:"";
  position:absolute;
  width:14px;
  height:14px;
  background:inherit;
  border-radius:50%;
}

.mini-heart::before{ top:-7px; left:0; }
.mini-heart::after{ left:7px; top:0; }

/* POSICIONES */
.mh1{ left:-26px; top:22px; animation-delay:.2s; }
.mh2{ right:-26px; top:38px; animation-delay:.4s; }
.mh3{ left:18px; bottom:-28px; animation-delay:.6s; }
.mh4{ right:20px; bottom:-32px; animation-delay:.8s; }

/* ===============================
   EFECTOS
================================ */

.heart-enter:hover{
  transform:rotate(-45deg) scale(1.12);
}

@keyframes heartFloat{
  0%,100%{ transform:rotate(-45deg) translateY(0); }
  50%{ transform:rotate(-45deg) translateY(-10px); }
}

@keyframes floatMini{
  0%,100%{ transform:rotate(-45deg) translateY(0); opacity:.6; }
  50%{ transform:rotate(-45deg) translateY(-8px); opacity:1; }
}

/* ===============================
   TRANSICI√ìN DE P√ÅGINA PREMIUM
================================ */

#page-transition{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at center,
    rgba(255,200,210,.85),
    rgba(255,120,140,.95)
  );
  opacity:0;
  pointer-events:none;
  z-index:9999;
  transform:scale(1.2);
  filter:blur(20px);
  transition:
    opacity .9s ease,
    transform .9s ease,
    filter .9s ease;
}

body.is-transitioning #page-transition{
  opacity:1;
  transform:scale(1);
  filter:blur(0);
}


/* ===============================
   CONTENIDO RECONSTRUY√âNDOSE
================================ */

.page-content{
  min-height:100vh;
  width:100%;
  display:flex;
  justify-content:center;

  opacity:0;
  transform:translateY(20px);
  transition:
    opacity 1.4s ease,
    transform 1.4s ease;
}

body.entered .page-content{
  opacity:1;
  transform:translateY(0);
}



/* ===============================
   ESTADO FINAL
================================ */

body.entered{
  overflow:auto;
}

/* ‚ú® Estela elegante */
.heart-sparkle{
  position: fixed;
  width: 8px;
  height: 8px;
  background: radial-gradient(circle, #ffb3b3, transparent);
  border-radius: 50%;
 pointer-events:none;
  z-index: 99998;
  animation: sparkleFade .6s ease-out forwards;
}

@keyframes sparkleFade{
  from{
    opacity:1;
    transform: scale(1);
  }
  to{
    opacity:0;
    transform: scale(2.5);
  }
}

/* ===============================
   üîß FIX CLICK IFRAMES
   =============================== */
html, body{
  pointer-events: auto !important;
}

/* CORAZONES ELEGANTES */
.corazon-xat {
    position: fixed;
    font-size: 26px;              /* ‚ù§Ô∏è m√°s grande */
    color: #fa999f;
    pointer-events: none;
    z-index: 999999;

    text-shadow: 
      0 0 6px rgba(219, 87, 87, 0.6),
      0 0 14px rgba(255, 170, 180, 0.6);

    animation: corazonFlotar 2.6s ease-out forwards;
}

/* üî• animaci√≥n manteniendo el centrado */
@keyframes corazonFlotar {
    0% {
        transform: translate(-50%, -50%) scale(1);
        opacity: 1;
    }
    100% {
        transform: translate(-50%, -170%) scale(1.4);
        opacity: 0;
    }
}



html, body, a, div, span, p, img, button, input, textarea, select, * {
    cursor: none !important;
}

</style>
</head>

<body>

<!-- INTRO -->
<div class="intro" id="intro">
  <div class="heart-wrapper">
    <div class="heart-enter" onclick="enterSite()">

      <!-- coraz√≥n -->
      <div class="heart-glass"></div>

      <!-- TEXTO ARRIBA -->
      <span class="heart-text">Entrar</span>

      <!-- mini corazones -->
      <i class="mini-heart mh1"></i>
      <i class="mini-heart mh2"></i>
      <i class="mini-heart mh3"></i>
      <i class="mini-heart mh4"></i>

    </div>
  </div>
</div>

<!-- TRANSICI√ìN PREMIUM -->
<div id="page-transition"></div>

<!-- ===============================
     CONTENIDO PRINCIPAL
================================ -->
<div class="page-content">

  <canvas id="heartsCanvas"></canvas>

  <div class="wrapper">

    <!-- BOTONES -->
    <div class="menu-left">
      <a href="https://xat.me/elizabbeth" target="_blank">‚ô° Gifs ‚ô°</a>
      <a href="https://www.flickr.com/photos/jefaa/albums/" target="_blank">‚ô° Fondos ‚ô°</a>
      <a href="#" onclick="abrirGaleria(); return false;">‚ô° Galeria ‚ô°</a>

      <div class="btn-player">
        <a href="#" onclick="togglePlayer(); return false;">‚ô° Musica ‚ô°</a>

        <div class="player-drop" id="playerDrop">
          <div class="player-glass">
            <div class="music-title">Musica</div>
            <div class="song-name animated-song" id="songName">Cargando...</div>

            <div class="player-controls">
              <button id="prevBtn">‚èÆ</button>
              <button id="playPauseBtn">‚ñ∂</button>
              <button id="nextBtn">‚è≠</button>
            </div>

            <input type="range" id="progress" class="progress" value="0">
          </div>
        </div>
      </div>
    </div>

    <!-- CARD -->
    <div class="card">
      <div class="avatar-wrap">
        <div class="avatar">
          <img src="https://xatimg.com/image/CeYK5qFy0I4H.png">
        </div>

        <!-- ICONO POR FUERA -->
        <a href="https://xat.com/fondos" target="_blank" class="home-icon" title="Fondos">
          <img src="https://xatimg.com/image/BggQTpqmKLQi.png" alt="Home">
        </a>
      </div>

      <div class="name">‚ô• ùë±ùíÜùíáùíÇ ‚ô•</div>
      <div class="subtitle">‚úß Bienvenidos a mi xatspace ‚úß</div>

      <div class="bio" id="typingText">
        Yo sab√≠a que el vidrio cortaba, y decid√≠ tomarlo con las dos manos!!
      </div>

      <div class="firma">
        <img src="https://xatimg.com/image/Y5POFVTpkHyi.gif">
      </div>

      <div class="footer">‚ú¶By Fabricio ‚ú¶</div>
    </div>

    <!-- MODAL GALERIA -->
    <div class="modal-overlay" id="galeriaModal">
      <div class="modal-content">
        <span class="modal-close" onclick="cerrarGaleria()">√ó</span>
        <iframe src="galeria/galeria.html" frameborder="0"></iframe>
      </div>
    </div>

  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const element = document.getElementById("typingText");
  if (!element) return;

  // Evita que se ejecute m√°s de una vez
  if (element.dataset.typed === "true") return;
  element.dataset.typed = "true";

  const text = element.textContent.trim();
  element.textContent = "";

  let index = 0;
  const speed = 65;

  function typeEffect() {
    if (index < text.length) {
      element.textContent += text.charAt(index);
      index++;
      setTimeout(typeEffect, speed);
    }
  }

  typeEffect();
});

function abrirGaleria(){
  document.getElementById("galeriaModal").classList.add("active");
}

function cerrarGaleria(){
  document.getElementById("galeriaModal").classList.remove("active");
}

const canvas = document.getElementById("heartsCanvas");
const ctx = canvas.getContext("2d");

let w, h;
function resize(){
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

const hearts = [];
const HEART_COUNT = 40;

function createHeart(startTop = true){
  return {
    x: Math.random() * w,
    y: startTop ? -30 : Math.random() * h,
    size: 6 + Math.random() * 6,
    speed: 0.25 + Math.random() * 0.6,
    drift: (Math.random() - 0.5) * 0.2,
    alpha: 0.12 + Math.random() * 0.25
  };
}

/* Inicial */
for(let i = 0; i < HEART_COUNT; i++){
  hearts.push(createHeart(false));
}

function drawHeart(x, y, size, alpha, scaleX = 1.1, scaleY = 0.75){
  ctx.save();
  ctx.translate(x, y);

  /* escala general + aplanado */
  ctx.scale(size * scaleX, size * scaleY);

  ctx.beginPath();
  ctx.moveTo(0, 0);
  ctx.bezierCurveTo(-0.5, -0.6, -1.4, 0.3, 0, 1.6);
  ctx.bezierCurveTo(1.4, 0.3, 0.5, -0.6, 0, 0);
  ctx.closePath();

  ctx.fillStyle = `rgba(255, 215, 225, ${alpha})`;
  ctx.fill();

  ctx.restore();
}


function animate(){
  ctx.clearRect(0, 0, w, h);

  hearts.forEach((heart, i) => {
    heart.y += heart.speed;
    heart.x += heart.drift;

    drawHeart(heart.x, heart.y, heart.size, heart.alpha);

    /* CUANDO SALE DE PANTALLA ‚Üí NUEVO DESDE ARRIBA */
    if(heart.y > h + 40){
      hearts[i] = createHeart(true);
    }
  });

  requestAnimationFrame(animate);
}

animate();

let songs = [
  { name: "Christian Castro - Qu√© Me Van A Hablar De Amor", url: "music/Christian Castro - Qu Me Van A Hablar De Amor.mp3" },
  { name: "Marco Antonio Solis - Si No Te Hubieras Ido.mp3", url: "music/Marco Antonio Solis - Si No Te Hubieras Ido.mp3" },
  { name: "Car√≠n Le√≥n, Alejandro Fern√°ndez - Me Est√° Doliendo", url: "music/Carin Leon, Alejandro Fernandez - Me Esta Doliendo.mp3" }
];

let audio = new Audio();
let currentIndex = 0;
let isPlaying = false;

const playPauseBtn = document.getElementById("playPauseBtn");
const nextBtn = document.getElementById("nextBtn");
const prevBtn = document.getElementById("prevBtn");
const songName = document.getElementById("songName");
const progress = document.getElementById("progress");

function loadSong(autoplay = false){
  audio.src = songs[currentIndex].url;
  songName.textContent = songs[currentIndex].name;

  if(autoplay){
    audio.play().then(()=>{
      isPlaying = true;
      playPauseBtn.textContent = "‚è∏";
    }).catch(()=>{});
  }
}

playPauseBtn.addEventListener("click", () => {
  if(audio.paused){
    audio.play();
    isPlaying = true;
    playPauseBtn.textContent = "‚è∏";
  }else{
    audio.pause();
    isPlaying = false;
    playPauseBtn.textContent = "‚ñ∂";
  }
});

nextBtn.onclick = () => {
  currentIndex = (currentIndex + 1) % songs.length;
  loadSong(true);
};

prevBtn.onclick = () => {
  currentIndex = (currentIndex - 1 + songs.length) % songs.length;
  loadSong(true);
};

// ‚ñ∂ cuando termina la canci√≥n ‚Üí pasa a la siguiente autom√°ticamente
audio.addEventListener("ended", () => {
  currentIndex = (currentIndex + 1) % songs.length;
  loadSong(true);
});


progress.addEventListener("input", () => {
  if(audio.duration){
    audio.currentTime = (progress.value / 100) * audio.duration;
  }
});

// Carga inicial SIN reproducir
loadSong(false);


function togglePlayer(){
  document
    .getElementById("playerDrop")
    .classList.toggle("active");
}

/* Bloquear clic derecho */
document.addEventListener('contextmenu', function(e){
  e.preventDefault();
});

/* Bloquear selecci√≥n de texto */
document.addEventListener('selectstart', function(e){
  e.preventDefault();
});

/* Bloquear arrastrar im√°genes/texto */
document.addEventListener('dragstart', function(e){
  e.preventDefault();
});

function enterSite(){
  const intro = document.getElementById("intro");
  if(!intro) return;

  intro.style.pointerEvents = "none";

  // üî• animaci√≥n de entrada
  document.body.classList.add("entered");

  // üî• autoplay seguro (ya hubo click)
  audio.play().then(()=>{
    isPlaying = true;
    playPauseBtn.textContent = "‚è∏";
  }).catch(()=>{});

  intro.style.transition = "opacity 1s ease";
  intro.style.opacity = "0";

  setTimeout(() => {
    intro.remove();
  }, 1100);
}


function spawnSparkle(){
  const sparkle = document.createElement("div");
  sparkle.className = "heart-sparkle";
  sparkle.style.left = posX + "px";
  sparkle.style.top = posY + "px";
  document.body.appendChild(sparkle);

  setTimeout(() => sparkle.remove(), 600);
}

document.addEventListener('mousemove', spawnSparkle);
window.addEventListener("message", spawnSparkle);


let lastSpawn = 0;

document.addEventListener("mousemove", (e) => {
  const now = Date.now();

  // üëá limita la cantidad (m√°s suave y preciso)
  if (now - lastSpawn < 35) return;
  lastSpawn = now;

  const corazon = document.createElement("div");
  corazon.className = "corazon-xat";
  corazon.textContent = "‚ù§";

  corazon.style.left = e.clientX + "px";
  corazon.style.top  = e.clientY + "px";

  document.body.appendChild(corazon);

  setTimeout(() => corazon.remove(), 2600);
});


</script>

</body>
</html>


